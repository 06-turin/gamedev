# Базовый слой
FROM node:alpine

# Копируем всё что нужно из локальной папки в образ
COPY . ./

# Устанавливаем зависимости, в образе появится /node_modules
RUN npm i; npm run build:sockets;

# При старте контейнер начнёт общаться через
# 5001 порт (сервер сокетов - сдля мультиплеера)
EXPOSE 5001

# При старте контейнер выполнит эту команду – запустит наше приложение
CMD ["npm", "run", "start:sockets"]
