# Базовый слой
FROM node:12

# Копируем всё что нужно из локальной папки в образ
COPY . ./

COPY package.json ./
COPY package-lock.json ./

# Устанавливаем зависимости, в образе появится /node_modules
RUN npm i; npm run build;

# При старте контейнер начнёт общаться через 5000 порт
EXPOSE 5000

# При старте контейнер выполнит эту команду – запустит наше приложение
CMD npm start;
